# 実装計画

- [ ] 1. プロジェクトセットアップと基本構造の作成
  - React 19プロジェクトの初期化とuseImmerライブラリのインストール
  - JavaScript (ES2023) 設定とプロジェクト構造の作成
  - 基本的なコンポーネントファイルの作成
  - _要件: 5.1_

- [ ] 2. データモデルとJSDoc型定義の実装
  - Todo オブジェクトのJSDoc型定義（id, text, done, createdAt）
  - コンポーネントPropsのJSDoc型定義
  - エラー状態のJSDoc型定義
  - _要件: 5.1, 5.5_

- [ ] 3. メインアプリケーションコンポーネントの実装
  - TodoAppコンポーネントの基本構造作成
  - useImmerフックを使用した状態管理の実装
  - 空のタスクリスト表示の実装
  - _要件: 4.1, 4.3, 5.1_

- [ ] 4. タスク追加機能の実装
- [ ] 4.1 TodoInputコンポーネントの作成
  - 入力フィールドと追加ボタンのUI実装
  - 入力値の状態管理
  - 基本的なフォーム送信処理
  - _要件: 1.1, 1.3_

- [ ] 4.2 タスク追加ロジックの実装
  - useImmerのdraft.push()を使用した追加処理
  - 一意ID生成（crypto.randomUUID()）
  - 入力フィールドのクリア処理
  - _要件: 1.1, 1.2, 1.3, 5.2_

- [ ] 4.3 入力検証機能の実装
  - 空文字入力の検証とエラー表示
  - 文字数制限の実装
  - エラーメッセージの表示とクリア
  - _要件: 1.4_

- [ ] 5. タスクリスト表示機能の実装
- [ ] 5.1 TodoListコンポーネントの作成
  - タスク配列の受け取りと表示
  - 空状態メッセージの表示
  - TodoItemコンポーネントへのprops渡し
  - _要件: 4.1, 4.2, 4.3_

- [ ] 5.2 TodoItemコンポーネントの実装
  - 個別タスクのUI実装（チェックボックス、テキスト、削除ボタン）
  - 完了状態に応じたスタイリング（取り消し線）
  - イベントハンドラーのprops受け取り
  - _要件: 4.2, 3.2, 3.3_

- [ ] 6. タスク完了状態切り替え機能の実装
- [ ] 6.1 toggleTodo関数の実装
  - useImmerのfind()を使用したタスク検索
  - doneプロパティの直接変更による状態切り替え
  - チェックボックスのイベントハンドリング
  - _要件: 3.1, 3.4, 5.4_

- [ ] 6.2 完了状態の視覚的表現の実装
  - 完了タスクの取り消し線スタイル
  - チェックボックスの状態同期
  - CSSクラスの動的適用
  - _要件: 3.2, 3.3_

- [ ] 7. タスク削除機能の実装
- [ ] 7.1 deleteTodo関数の実装
  - useImmerのfindIndex()を使用したインデックス検索
  - draft.splice(index, 1)による削除処理
  - 削除ボタンのイベントハンドリング
  - _要件: 2.1, 2.3, 5.3_

- [ ] 7.2 削除操作のUI実装
  - 削除ボタンの配置とスタイリング
  - 削除確認の実装（オプション）
  - 削除後のリスト更新確認
  - _要件: 2.1, 2.2_

- [ ] 8. スタイリングとレスポンシブデザインの実装
- [ ] 8.1 基本スタイルの実装
  - CSS ModulesまたはStyled Componentsの設定
  - レイアウトとタイポグラフィの実装
  - カラーパレットとテーマの定義
  - _要件: 4.2, 3.2, 3.3_

- [ ] 8.2 レスポンシブデザインの実装
  - モバイルファーストのブレークポイント設定
  - タッチデバイス対応のボタンサイズ調整
  - 画面サイズに応じたレイアウト最適化
  - _要件: 4.2_

- [ ] 9. パフォーマンス最適化の実装
- [ ] 9.1 React.memoとuseCallbackの適用
  - TodoItemコンポーネントのメモ化
  - イベントハンドラーのuseCallbackによるメモ化
  - 不要な再レンダリングの防止
  - _要件: 5.5_

- [ ] 9.2 useImmer最適化の確認
  - 状態更新時の再レンダリング範囲の確認
  - 大量データでのパフォーマンステスト
  - メモリ使用量の監視
  - _要件: 5.5_

- [ ] 10. エラーハンドリングとアクセシビリティの実装
- [ ] 10.1 エラーハンドリングの強化
  - エラー境界（Error Boundary）の実装
  - 予期しないエラーの適切な処理
  - ユーザーフレンドリーなエラーメッセージ
  - _要件: 1.4_

- [ ] 10.2 アクセシビリティ対応の実装
  - キーボードナビゲーション（Tab、Enter、Space）
  - スクリーンリーダー対応のaria属性設定
  - フォーカス管理とフォーカスインジケーター
  - _要件: 1.1, 2.1, 3.1_

- [ ] 11. 単体テストの実装
- [ ] 11.1 コンポーネントテストの作成
  - TodoAppコンポーネントのテスト
  - TodoInput、TodoList、TodoItemコンポーネントのテスト
  - React Testing Libraryを使用したレンダリングテスト
  - _要件: 1.1, 2.1, 3.1, 4.1_

- [ ] 11.2 useImmer状態管理のテスト
  - CRUD操作の単体テスト
  - 状態更新ロジックのテスト
  - エッジケースのテスト（空配列、重複操作など）
  - _要件: 5.1, 5.2, 5.3, 5.4_

- [ ] 12. 統合テストとE2Eテストの実装
- [ ] 12.1 統合テストの作成
  - タスクの追加から削除までの完全フローテスト
  - 複数タスクの相互作用テスト
  - エラー状態からの回復テスト
  - _要件: 1.1, 2.1, 3.1, 4.4_

- [ ] 12.2 ユーザーシナリオテストの実装
  - 実際のユーザー操作をシミュレートするテスト
  - @testing-library/user-eventを使用したインタラクションテスト
  - 異常系を含む包括的なテストケース
  - _要件: 1.1, 1.4, 2.1, 3.1, 4.1_